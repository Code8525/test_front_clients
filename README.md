# API клиентов и регионов

Бэкенд на FastAPI: справочник регионов РФ и CRUD клиентов (физ./юр. лица). БД — SQLite. При первом запуске при пустых таблицах выполняется первичное наполнение: регионы и ~1000 клиентов.

## Требования

- Python 3.10+

## Установка

```bash
# Клонирование (если ещё не сделано)
# git clone ...

# Переход в каталог проекта
cd test_front_clients

# Виртуальное окружение (рекомендуется)
python -m venv .venv
.venv\Scripts\activate   # Windows
# source .venv/bin/activate   # Linux / macOS

# Зависимости
pip install fastapi "uvicorn[standard]" sqlalchemy
```

## Запуск

**Через скрипты** (из корня проекта):

- **Windows (CMD):** `run.bat`
- **Windows (PowerShell):** `.\run.ps1`
- **Linux / macOS:** `./run.sh` (или `bash run.sh`)

Скрипты сами переходят в каталог проекта и при наличии `.venv` активируют его, затем запускают сервер.

**Вручную** из корня проекта:

```bash
uvicorn src.main:app --reload
```

Сервер будет доступен по адресу: **http://127.0.0.1:8000**

- Документация API (Swagger): http://127.0.0.1:8000/docs  
- Альтернативная документация (ReDoc): http://127.0.0.1:8000/redoc  

## Проверка CRUD клиентов

Проверка создания, редактирования и удаления клиента на развёрнутом сервере:

```bash
python scripts/test_client_crud.py
```

Скрипт выполняет: получение региона, создание клиента (POST), обновление (PATCH), удаление (DELETE) и проверку 404 после удаления.
